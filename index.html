<!DOCTYPE html>
<html>
  <head>
    <title>Logo Bracket Picker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="favicon.ico">
    <meta property="og:title" content="Logo Bracket">
    <meta property="og:image" content="https://logobracket.johnshaida.com/img/social-sharing.jpg">
    <meta property="og:description" content="Make Picks for the Big Dance">
    <meta property="og:url" content="https://logobracket.johnshaida.com">
    <meta name="twitter:card" content="summary_large_image">
    <style type="text/css">
      body {
        margin: 0 auto;
        padding: 0;
      }

      h1 {
        color: #D3D3D3;
        font-family: sans-serif;
        margin: 0;
        text-align: center
      }

      #content {
        display: flex;
        height: 100vh;
        width: 100%;
        max-width: 1024px;
        margin: 0 auto;
      }

      .outer-col {
        flex: 1 0px;
        margin: auto 2%;
        text-align: center;
      }

      .center-col {
        flex: none;
        background-color: #000000;
        width: 5px;
        height: 90vh;
        margin: 5vh auto;
      }
      /*Logo Pictues*/
      #a, #b {
        max-width: 100%;
      }

      /*For Bracket Graphics*/
      #bracket {
        width: 1024px;
        height: 905px;
        background-image: url("img/bracket.png");
        position: absolute;
      }

      #champ {
        display:block;
        width: 125px;
        height: 125px;
        margin: 385px auto 0;
      }

      .button {
        width: 100px;
        height: 37px;
        padding: 5px;
        background-color: #666666;
        font-family: sans-serif;
        color: white;
        position: absolute;
        text-align: center;
        top: 100px;
        left: 464px;
      }

      .teams{
        width: 100px;
        height: 10px;
        font-size: 8pt;
        position: absolute;
        font-family: sans-serif
      }

      /*To Position Team Names*/
      .round1L {
        left: 22px;
        text-align: left;
      }
      .round2L {
        left: 104px;
        text-align: left;
      }
      .round3L {
        left: 184px;
        text-align: left;
      }
      .round4L {
        left: 265px;
        text-align: left;
      }
      .round5L {
        left: 348px;
        text-align: left;
      }
      .round6L {
        top: 345px;
        left: 435px;
        text-align: left;
      }

      .round1R {
        left:900px;
        text-align: right;
      }
      .round2R {
        left:817px;
        text-align: right;
      }
      .round3R {
        left:736px;
        text-align: right;
      }
      .round4R {
        left: 655px;
        text-align: right;
      }
      .round5R {
        left: 576px;
        text-align: right;
      }
      .round6R {
        top: 578px;
        left: 491px;
        text-align: right;
      }
      .round7 {
        top: 520px;
        width:100%;
        font-size: 18pt;
        text-align: center;
      }

      #t1 { top: 59px; }
      #t16 { top: 85px; }
      #t8 { top: 111px; }
      #t9 { top: 137px; }
      #t5 { top: 163px; }
      #t12 { top: 189px; }
      #t4 { top: 215px; }
      #t13 { top: 240px; }
      #t6 { top: 266px; }
      #t11 { top: 292px; }
      #t3 { top: 318px; }
      #t14 { top: 344px; }
      #t7 { top: 370px; }
      #t10 { top: 396px; }
      #t2 { top: 422px; }
      #t15 { top: 449px; }
      #t2-1 { top: 73px; }
      #t2-8 { top: 125px; }
      #t2-5 { top: 177px; }
      #t2-4 { top: 229px; }
      #t2-6 { top: 280px; }
      #t2-3 { top: 332px; }
      #t2-7 { top: 384px; }
      #t2-2 { top: 436px; }
      #t3-1 { top: 99px; }
      #t3-4 { top: 203px; }
      #t3-3 { top: 306px; }
      #t3-2 { top: 410px; }
      #t4-1 { top: 151px; }
      #t4-2 { top: 358px; }
      #t5-1 { top: 255px; }

      #b1 { top: 475px; }
      #b16 { top: 500px; }
      #b8 { top: 526px; }
      #b9 { top: 552px; }
      #b5 { top: 578px; }
      #b12 { top: 604px; }
      #b4 { top: 630px; }
      #b13 { top: 656px; }
      #b6 { top: 681px; }
      #b11 { top: 708px; }
      #b3 { top: 734px; }
      #b14 { top: 760px; }
      #b7 { top: 786px; }
      #b10 { top: 811px; }
      #b2 { top: 838px; }
      #b15 { top: 864px; }
      #b2-1 { top: 488px; }
      #b2-8 { top: 539px; }
      #b2-5 { top: 591px; }
      #b2-4 { top: 643px; }
      #b2-6 { top: 695px; }
      #b2-3 { top: 747px; }
      #b2-7 { top: 799px; }
      #b2-2 { top: 851px; }
      #b3-1 { top: 513px; }
      #b3-4 { top: 617px; }
      #b3-3 { top: 721px; }
      #b3-2 { top: 825px; }
      #b4-1 { top: 565px; }
      #b4-2 { top: 773px; }
      #b5-1 { top: 670px; }

      @media all and (max-width: 500px) {
        #content {
          flex-direction: column;
        }

        .center-col {
          height: 5px;
          width: 90%;
          margin: auto 5%;
        }

        #a, #b {
          max-height: 50vh;
        }
      }
    </style>
  </head>
  <body onload="firstGame()">
    <div class="wrapper">
      <div id="content">
        <!-- <div class="vertical-line"></div> -->
        <!--  -->
        <!--  -->
        <div class="outer-col"><img id="a" src=# onclick="select('left')"><h1 id="aSeed"></h1></div>
        <div class="center-col"></div>
        <div class="outer-col"><img id="b" src=# onclick="select('right')"><h1 id="bSeed"></h1></div>
      </div>
    </div>

    <script>
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const showSeeds = urlParams.get('seeds');
      if (showSeeds === "true") {
        console.log("we showing seeds baby");
      } else {
        document.getElementById('aSeed').style.display = 'none';
        document.getElementById('bSeed').style.display = 'none';
      }
      var game = 1;
      var a = 1
      var b = 16;
      var i = 0;
      var region = ["e","w","s","m"];
      var teams = new Array();
      var finalfour = new Array();
      var nextGame = new Array();
      var nextGameSeeds = new Array();
      var allTeams = {
        "e1": "Connecticut",
        "e16": "Stetson",
        "e8": "Florida Atlantic",
        "e9": "Northwestern",
        "e5": "San Diego St",
        "e12": "UAB",
        "e4": "Auburn",
        "e13": "Yale",
        "e6": "BYU",
        "e11": "Duquesne",
        "e3": "Illinois",
        "e14": "Morehead St",
        "e7": "Washington St",
        "e10": "Drake",
        "e2": "Iowa St",
        "e15": "South Dakota St",
        "w1": "North Carolina",
        "w16": "Play in W16",
        "w8": "Mississippi St",
        "w9": "Michigan St",
        "w5": "Saint Mary's",
        "w12": "Grand Canyon",
        "w4": "Alabama",
        "w13": "Charleston",
        "w6": "Clemson",
        "w11": "New Mexico",
        "w3": "Baylor",
        "w14": "Colgate",
        "w7": "Dayton",
        "w10": "Nevada",
        "w2": "Arizona",
        "w15": "Long Beach St",
        "s1": "Houston",
        "s16": "Longwood",
        "s8": "Nebraska",
        "s9": "Texas A&M",
        "s5": "Wisconsin",
        "s12": "James Madison",
        "s4": "Duke",
        "s13": "Vermont",
        "s6": "Texas Tech",
        "s11": "North Carolina St",
        "s3": "Kentucky",
        "s14": "Oakland",
        "s7": "Florida",
        "s10": "Play in S10",
        "s2": "Marquette",
        "s15": "Western Kentucky",
        "m1": "Purdue",
        "m16": "Play in M16",
        "m8": "Utah St",
        "m9": "TCU",
        "m5": "Gonzaga",
        "m12": "McNeese",
        "m4": "Kansas",
        "m13": "Samford",
        "m6": "South Carolina",
        "m11": "Oregon",
        "m3": "Creighton",
        "m14": "Akron",
        "m7": "Texas",
        "m10": "Play in M10",
        "m2": "Tennessee",
        "m15": "Saint Peter's",
      };

      //Select random picture sides (so higher seed isn't always on left)
      function randomPic(pic1, pic2) {
        var team1 = pic1.replaceAll("%20", " ");
        var team2 = pic2.replaceAll("%20", " ");
        console.log(team1 + " vs " + team2);
        var r = Math.random();
        var pic1Path = 'img/team_logos/' + team1 + '.png';
        var pic2Path = 'img/team_logos/' + team2 + '.png';
        var pic1Seed = Object.keys(allTeams).find(key => allTeams[key] === team1).substring(1);
        var pic2Seed = Object.keys(allTeams).find(key => allTeams[key] === team2).substring(1);

        if (r < 0.5) {
          return [document.getElementById("a").src = pic1Path, document.getElementById("aSeed").innerHTML = pic1Seed, document.getElementById("b").src = pic2Path, document.getElementById("bSeed").innerHTML = pic2Seed];
        } else {
          return [document.getElementById("a").src = pic2Path, document.getElementById("aSeed").innerHTML = pic2Seed, document.getElementById("b").src = pic1Path, document.getElementById("bSeed").innerHTML = pic1Seed];
        }
      }

      //Sort pictures for 1st game
      function firstGame() {
        randomPic (allTeams[region[i] + a], allTeams[region[i] + b]);
      }

      function selectWinner(x) {
        if (x == 'left') {
          var teamName = document.getElementById("a").src.substring(document.getElementById("a").src.lastIndexOf('/')+1, document.getElementById("a").src.length-4);
        } else {
          var teamName = document.getElementById("b").src.substring(document.getElementById("b").src.lastIndexOf('/')+1, document.getElementById("b").src.length-4);
        }
        console.log(teamName);
        return teamName;
      }


      //Move on to next game after user selects winner
      function select(x) {
        switch(game){
          //Round 1
          case 1:
          case 2:
          case 3:
          case 4:
          case 5:
          case 6:
          case 7:
            teams[game] = selectWinner(x);

            a++;
            b--;

            randomPic (allTeams[region[i] + a], allTeams[region[i] + b]);
            break;

          //Last Game of Round 1
          case 8:
            teams[game] = selectWinner(x);

            a = 1;
            b = 8;

            randomPic (teams[a], teams[b]);
            break;

          //Round 2
          case 9:
          case 10:
          case 11:
            teams[game] = selectWinner(x);

            a++;
            b--;

            randomPic (teams[a], teams[b]);
            break;

          //Last Game of Round 2
          case 12:
            teams[game] = selectWinner(x);

            a = 9;
            b = 12;

            randomPic (teams[a], teams[b]);
            break;

          //1st Game of Round 3
          case 13:
            teams[game] = selectWinner(x);

            a = 10;
            b = 11;

            randomPic (teams[a], teams[b]);
            break;

          //Last Game of Round 3
          case 14:
            teams[game] = selectWinner(x);

            a = 13;
            b = 14;

            randomPic (teams[a], teams[b]);
            break;

          case 15:
            teams[game] = selectWinner(x);

            a = 15;

            finalfour[i] = teams[a]
            teams.shift();
            region[i] = teams

            //Restart for next region
            i++;
            teams = [];

            if (i <= 3 ) {
              game = 0;
              a = 1
              b = 16;

              randomPic (allTeams[region[i] + a], allTeams[region[i] + b]);
            } else {	//Get ready for Final Four
              a = 0;
              b = 1;

              randomPic (finalfour[a], finalfour[b]);

              game = 59;
            }
            break;

          //First Final Four Game
          case 60:
            finalfour[i] = selectWinner(x);

            a = a + 2;
            b = b + 2;

            randomPic (finalfour[a], finalfour[b]);

            i++;
            break;

          //Second Final Four Game
          case 61:
            finalfour[i] = selectWinner(x);

            a = a + 2
            b = b + 2

            randomPic (finalfour[4], finalfour[5]);

            i++;
            break;

          //National Championship
          case 62:
            finalfour[i] = selectWinner(x);

            bracket();
            break;

            default:
            break;
        }

        game++;
      }

      //Create Bracket Graphic
      function bracket() {
        var a = '<div id="bracket">';
        var sections = ["e","w","s","m"];
        var topOrBottom = ["t","b","t","b"];
        var leftOrRight = ["L","L","R","R"];

        //Loop through Round 1
        for (j = 0; j < 4; j++) {
          for (i = 1; i <= 16; i++) {
            var teamName = sections[j] + i;
            a = a + '<div class="teams round1' + leftOrRight[j] + '" id="' + topOrBottom[j] + i + '">' + allTeams[teamName] + '</div>';
          }
        }

        //Loop through Games
        for (j = 0; j < 4; j++) {
          //Round 2 Games
          for (i = 0; i < 8; i++) {
            var teamName = region[j][i];
            a = a + '<div class="teams round2' + leftOrRight[j] + '" id="' + topOrBottom[j] + '2-' + (i+1) + '">' + teamName.replaceAll("%20", " ") + '</div>';
          }
          //Round 3 Games
          for (i = 0; i < 4; i++) {
            var teamName = region[j][i+8];
            a = a + '<div class="teams round3' + leftOrRight[j] + '" id="' + topOrBottom[j] + '3-' + (i+1) + '">' + teamName.replaceAll("%20", " ") + '</div>';
          }
          //Round 4 Games
          for (i = 0; i < 2; i++) {
            var teamName = region[j][i+12];
            a = a + '<div class="teams round4' + leftOrRight[j] + '" id="' + topOrBottom[j] + '4-' + (i+1) + '">' + teamName.replaceAll("%20", " ") + '</div>';
          }
          //Round 5 Games
          for (i = 0; i < 1; i++) {
            var teamName = region[j][i+14];
            a = a + '<div class="teams round5' + leftOrRight[j] + '" id="' + topOrBottom[j] + '5-' + (i+1) + '">' + teamName.replaceAll("%20", " ") + '</div>';
          }
        }

        //Final Four
        a= a +
        '<div class="teams round6L">' + finalfour[4].replaceAll("%20", " ") + '</div>' +
        '<div class="teams round6R">' + finalfour[5].replaceAll("%20", " ") + '</div>' +
        '<img id="champ" src="img/team_logos/' + finalfour[6] + '.png">' +
        '<div class="teams round7">' + finalfour[6].replaceAll("%20", " ") + '</div>' +
        '<div class="button" onclick="score()">Random Score</div>' +
        '</div>';

        document.getElementById("content").innerHTML = a;
      }

      //Create random score for tiebreaker
      function score() {
        alert(Math.floor(Math.random() * 91) + 70);
      }
    </script>
  </body>
</html>